name: "Exact Match Test"
description: "Validates exact match mode fails when actual output has extra rows"

periods:
  - identifier: "2026-01"
    level: "month"
    start_date: "2026-01-01"
    end_date: "2026-01-31"

input:
  dataset:
    id: "550e8400-e29b-41d4-a716-446655440003"
    name: "test_exact_mode"
    description: "Dataset for exact match failure scenario"
    owner: "test"
    version: 1
    status: active
    main_table:
      name: "orders"
      temporal_mode: period
      columns:
        - name: "id"
          type: integer
          nullable: false
        - name: "value"
          type: integer
          nullable: false

  data:
    orders:
      rows:
        - id: 1
          value: 10
          _period: "2026-01"
        - id: 2
          value: 20
          _period: "2026-01"
        - id: 3
          value: 30
          _period: "2026-01"

project:
  id: "660e8400-e29b-41d4-a716-446655440003"
  name: "passthrough"
  owner: "test"
  version: 1
  status: active
  visibility: private
  input_dataset_id: "550e8400-e29b-41d4-a716-446655440003"
  input_dataset_version: 1
  materialization: eager
  operations:
    - order: 1
      type: output
      parameters: {}

expected_output:
  data:
    rows:
      - id: 1
        value: 10
      - id: 2
        value: 20

config:
  match_mode: exact
  validate_metadata: false
  validate_traceability: false
  snapshot_on_failure: false